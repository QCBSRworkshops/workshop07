<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 8 Groupement | Atelier 9 : Analyses multivariées en R</title>
  <meta name="description" content="Analyses multivariées en R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 8 Groupement | Atelier 9 : Analyses multivariées en R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/qcbsRworkshops/" />
  <meta property="og:image" content="https://github.com/qcbsRworkshops/assets/images/logo/csbq_logo_accueil.png" />
  <meta property="og:description" content="Analyses multivariées en R" />
  <meta name="github-repo" content="qcbsRworkshops/workshop09" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 8 Groupement | Atelier 9 : Analyses multivariées en R" />
  
  <meta name="twitter:description" content="Analyses multivariées en R" />
  <meta name="twitter:image" content="https://github.com/qcbsRworkshops/assets/images/logo/csbq_logo_accueil.png" />

<meta name="author" content="Développé et entretenu par les contributeurs et les contributrices de la Série d’ateliers R du CSBQ." />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="quantifier-la-dissimilarité-des-données.html"/>
<link rel="next" href="le-significat-de-lordination-sans-contrainte.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/qcbs-style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="assets/images/csbq_logo_gray_accueil.png"></a></li>
<link rel="icon" type="image/png" href="assets/images/favicon.ico"/>

<li class="divider"></li>
<li class="part"><span><b>Série d’ateliers R du CSBQ</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#code-de-conduite"><i class="fa fa-check"></i><b>0.1</b> Code de conduite</a><ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#comportement-attendu"><i class="fa fa-check"></i><b>0.1.1</b> Comportement attendu</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#comportements-inacceptables"><i class="fa fa-check"></i><b>0.1.2</b> Comportements inacceptables</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#contributeurs-et-contributrices"><i class="fa fa-check"></i><b>0.2</b> Contributeurs et contributrices</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#contribuez-à-la-série"><i class="fa fa-check"></i><b>0.3</b> Contribuez à la série!</a></li>
</ul></li>
<li class="part"><span><b>Analyses multivariées en <code>R</code></b></span></li>
<li class="chapter" data-level="1" data-path="objectifs-dapprentissage.html"><a href="objectifs-dapprentissage.html"><i class="fa fa-check"></i><b>1</b> Objectifs d’apprentissage</a></li>
<li class="chapter" data-level="2" data-path="préparez-vous-pour-cet-atelier.html"><a href="préparez-vous-pour-cet-atelier.html"><i class="fa fa-check"></i><b>2</b> Préparez-vous pour cet atelier</a></li>
<li class="chapter" data-level="3" data-path="quest-ce-que-lordination.html"><a href="quest-ce-que-lordination.html"><i class="fa fa-check"></i><b>3</b> Qu’est-ce que l’ordination?</a></li>
<li class="chapter" data-level="4" data-path="introduction-aux-données.html"><a href="introduction-aux-données.html"><i class="fa fa-check"></i><b>4</b> Introduction aux données</a></li>
<li class="chapter" data-level="5" data-path="exploration-des-données.html"><a href="exploration-des-données.html"><i class="fa fa-check"></i><b>5</b> 1. Exploration des données</a><ul>
<li class="chapter" data-level="5.1" data-path="exploration-des-données.html"><a href="exploration-des-données.html#données-sur-les-espèces"><i class="fa fa-check"></i><b>5.1</b> 1.1 Données sur les espèces</a></li>
<li class="chapter" data-level="5.2" data-path="exploration-des-données.html"><a href="exploration-des-données.html#données-sur-lenvironnement"><i class="fa fa-check"></i><b>5.2</b> 1.2 Données sur l’environnement</a></li>
</ul></li>
<li class="part"><span><b>Mesures d’association</b></span></li>
<li class="chapter" data-level="6" data-path="la-dissimilarité-des-données.html"><a href="la-dissimilarité-des-données.html"><i class="fa fa-check"></i><b>6</b> La (dis)similarité des données</a></li>
<li class="chapter" data-level="7" data-path="quantifier-la-dissimilarité-des-données.html"><a href="quantifier-la-dissimilarité-des-données.html"><i class="fa fa-check"></i><b>7</b> Quantifier la (dis)similarité des données</a><ul>
<li class="chapter" data-level="7.1" data-path="quantifier-la-dissimilarité-des-données.html"><a href="quantifier-la-dissimilarité-des-données.html#transformations-des-données-de-composition-des-communautés"><i class="fa fa-check"></i><b>7.1</b> Transformations des données de composition des communautés</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="groupement.html"><a href="groupement.html"><i class="fa fa-check"></i><b>8</b> Groupement</a></li>
<li class="part"><span><b>L’Ordination sans contrainte</b></span></li>
<li class="chapter" data-level="9" data-path="le-significat-de-lordination-sans-contrainte.html"><a href="le-significat-de-lordination-sans-contrainte.html"><i class="fa fa-check"></i><b>9</b> Le significat de l’ordination “sans contrainte”</a></li>
<li class="chapter" data-level="10" data-path="analyses-en-composantes-principales.html"><a href="analyses-en-composantes-principales.html"><i class="fa fa-check"></i><b>10</b> Analyses en Composantes Principales</a></li>
<li class="chapter" data-level="11" data-path="analyse-des-correpondances.html"><a href="analyse-des-correpondances.html"><i class="fa fa-check"></i><b>11</b> Analyse des Correpondances</a></li>
<li class="chapter" data-level="12" data-path="analyse-en-coordonnées-principales.html"><a href="analyse-en-coordonnées-principales.html"><i class="fa fa-check"></i><b>12</b> Analyse en coordonnées principales</a></li>
<li class="chapter" data-level="13" data-path="positionnement-multidimensionnel-non-métrique.html"><a href="positionnement-multidimensionnel-non-métrique.html"><i class="fa fa-check"></i><b>13</b> Positionnement multidimensionnel non-métrique</a></li>
<li class="part"><span><b>Considérations finales</b></span></li>
<li class="chapter" data-level="14" data-path="sommaire.html"><a href="sommaire.html"><i class="fa fa-check"></i><b>14</b> Sommaire</a></li>
<li class="chapter" data-level="15" data-path="resources-additionnels.html"><a href="resources-additionnels.html"><i class="fa fa-check"></i><b>15</b> Resources additionnels</a></li>
<li class="chapter" data-level="16" data-path="réferences.html"><a href="réferences.html"><i class="fa fa-check"></i><b>16</b> Réferences</a></li>
<li class="divider"></li>
<li><a href="https://github.com/qcbsRworkshops" target="blank">QCBS R Workshop Series</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Atelier 9 : Analyses multivariées en <code>R</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!------------------------ Hero Image Container --------------------------> 

<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=10.0,initial-scale=1.0">
  <script src="https://kit.fontawesome.com/6a26f47516.js"></script>
  <script src="assets/qcbs-hideOutput.js"></script>
  <link href="assets/qcbs-style.css" rel="stylesheet">
</head>



<div class="hero-image-container"> 
  <img class= "hero-image" src="assets/images/jean-philippe-delberghe-75xPHEQBmvA-unsplash_hero_image.jpg">
</div>
<div id="groupement" class="section level1">
<h1><span class="header-section-number">Chapitre 8</span> Groupement</h1>
<p>Les matrices d’association nécessaires pour utiliser les méthodes de
groupement. Le groupement n’est pas une méthode statistique en tant que
telle puisqu’elle ne teste pas d’hypothèse, mais permet de déceler des
structures dans les données en partitionnant soit les objets, soit les
descripteurs. Les objets similaires sont agrégés en sous-groupes ce qui
permet de mettre en relief des cassures (contrastes) entre les données.
En tant que biologiste, il peut être intéressant de tenter de séparer
une série de sites en groupes en fonction de leurs caractéristiques
environnementales ou de leur composition en espèces.</p>
<p>Les résultats d’un groupement sont généralement représentés sous forme
de dendrogramme (arbre), dans lequel les objets sont agrégés en groupes.
Il y a plusieurs familles de méthodes de groupements, mais nous
présenterons uniquement un aperçu de trois méthodes : le groupement
agglomératif hiérarchique à liens simples, le groupement agglomératif
hiérarchique à liens complets et la méthode de Ward. Pour plus de
détails sur les différentes familles de méthodes de groupement,
consulter Legendre et Legendre 2012 (chapitre 8).</p>
<p>Dans les méthodes hiérarchiques, les éléments des petits ensembles se
regroupent en groupes plus vastes de rang supérieur, et ainsi de suite
(par exemple : espèces, genres, familles, ordre). Avant de faire le
groupement, il faut créer une matrice d’association entre les objets.
Une matrice de distances est le choix par défaut des fonctions de
groupement dans R. La matrice d’association est premièrement classée en
ordre croissant de distances. Ensuite, les groupes sont formés de
manière hiérarchique selon les critères spécifiques à chaque méthode.</p>
<p>Prenons un exemple tout simple d’une matrice de distances euclidiennes
entre 5 objets dont on a ordonné les distances en ordre croissant.</p>
<p><img src="images//groupement.exemple.png" class="align-center" /></p>
<p>Pour le groupement agglomératif à liens simples, les deux objets les
plus proches se regroupent en premier. Ensuite, un deuxième groupe est
formé à partir des deux objets les plus proches suivant (il se peut que
ce soit deux objets différents, ou bien un objet et le groupe formé
précédemment), et ainsi de suite. Cette méthode forme généralement de
longues chaînes de groupes (dans l’exemple ci-haut, les objets 1 à 5 se
regroupent successivement). À l’inverse, pour le groupement agglomératif
à liens complet, un objet se regroupe à un autre objet/groupe seulement
lorsqu’il est aussi lié à l’élément le plus éloigné de ce groupe. Ainsi,
quand deux groupes fusionnent, tous les éléments des deux groupes sont
liés à la distance considérée (ci-haut, le groupe 3-4 ne se lie au
groupe 1-2 qu’à la distance à laquelle tous les autres éléments sont
déjà liés). C’est pour cette raison que le groupement à liens complets
forme généralement plusieurs petits groupes séparés et qu’elle peut être
plus appropriée pour relever des contrastes ou des discontinuités dans
les données.</p>
<p>Comparons ces deux méthodes en utilisant les données d’abondances de
poissons de la rivière Doubs. Les données d’abondances ont été au
préalable transformées par la méthode Hellinger. Puisque les fonctions
de groupement requièrent une matrice de distances, la première étape
sera de générer une matrice de distances Hellinger.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="groupement.html#cb26-1"></a>spe.dhel &lt;-<span class="st"> </span><span class="kw">vegdist</span>(spe.hel, <span class="dt">method =</span> <span class="st">&quot;euclidean&quot;</span>)  <span class="co">#crée une matrice de distances Hellinger à partir des données d’abondance transformées</span></span>
<span id="cb26-2"><a href="groupement.html#cb26-2"></a></span>
<span id="cb26-3"><a href="groupement.html#cb26-3"></a><span class="co"># Pour voir la différence entre les deux types d’objets</span></span>
<span id="cb26-4"><a href="groupement.html#cb26-4"></a><span class="kw">head</span>(spe.hel)  <span class="co"># données d’abondances transformées Hellingerhead(spe.dhel)# matrice de distances de Hellinger entre les sites</span></span></code></pre></div>
<p>La plupart des méthodes de groupement sont disponible dans la fonction
hclust() de la librairie stats</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="groupement.html#cb27-1"></a><span class="co"># Faire le groupement à liens simples</span></span>
<span id="cb27-2"><a href="groupement.html#cb27-2"></a>spe.dhel.single &lt;-<span class="st"> </span><span class="kw">hclust</span>(spe.dhel, <span class="dt">method =</span> <span class="st">&quot;single&quot;</span>)</span>
<span id="cb27-3"><a href="groupement.html#cb27-3"></a><span class="kw">plot</span>(spe.dhel.single)</span>
<span id="cb27-4"><a href="groupement.html#cb27-4"></a></span>
<span id="cb27-5"><a href="groupement.html#cb27-5"></a><span class="co"># Faire le groupement à liens complet</span></span>
<span id="cb27-6"><a href="groupement.html#cb27-6"></a>spe.dhel.complete &lt;-<span class="st"> </span><span class="kw">hclust</span>(spe.dhel, <span class="dt">method =</span> <span class="st">&quot;complete&quot;</span>)</span>
<span id="cb27-7"><a href="groupement.html#cb27-7"></a><span class="kw">plot</span>(spe.dhel.complete)</span></code></pre></div>
<p><img src="images//clust_single.png" class="align-center" /><img src="images//clust_complete.png" class="align-center" /></p>
<p>Est-ce que les deux dendrogrammes sont très différents?</p>
<p>On remarque que pour le groupement à liens simple, plusieurs objets
s’enchaînent (par exemple les sites 19, 29, 30, 20, 26, etc.) alors que
des groupes plus distincts peuvent être observés dans le groupement à
liens complets.</p>
<p>La méthode de Ward diffère légèrement des deux méthodes précédentes. Le
critère utilisé est la méthode des moindres carrés (comme dans les
modèles linéaires). Ainsi, des objets/groupes fusionnent de façon à
minimise la variance intragroupes. Pour débuter, chaque objet est
considéré comme un groupe. À chaque étape, la paire de groupes à
fusionner est celle qui résulte à la plus petite augmentation de la
somme des carrés des écarts intra-groupes.</p>
<p>La méthode de Ward est également disponible sous la fonction hclust().
Par contre, le dendrogramme produit par défaut montre les distances au
carré. Afin de comparer ce dendrogramme à celui du groupement à liens
simples et à liens complets, il faut calculer la racine carrée des
distances.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="groupement.html#cb28-1"></a><span class="co"># Faire le groupement de Ward</span></span>
<span id="cb28-2"><a href="groupement.html#cb28-2"></a>spe.dhel.ward &lt;-<span class="st"> </span><span class="kw">hclust</span>(spe.dhel, <span class="dt">method =</span> <span class="st">&quot;ward.D2&quot;</span>)</span>
<span id="cb28-3"><a href="groupement.html#cb28-3"></a><span class="kw">plot</span>(spe.dhel.ward)</span>
<span id="cb28-4"><a href="groupement.html#cb28-4"></a></span>
<span id="cb28-5"><a href="groupement.html#cb28-5"></a><span class="co"># Refaire le dendrogramme en utilisant la racine carrée des</span></span>
<span id="cb28-6"><a href="groupement.html#cb28-6"></a><span class="co"># distances</span></span>
<span id="cb28-7"><a href="groupement.html#cb28-7"></a>spe.dhel.ward<span class="op">$</span>height &lt;-<span class="st"> </span><span class="kw">sqrt</span>(spe.dhel.ward<span class="op">$</span>height)</span>
<span id="cb28-8"><a href="groupement.html#cb28-8"></a><span class="kw">plot</span>(spe.dhel.ward)</span>
<span id="cb28-9"><a href="groupement.html#cb28-9"></a><span class="kw">plot</span>(spe.dhel.ward, <span class="dt">hang =</span> <span class="dv">-1</span>)  <span class="co"># hang=-1 permet d’afficher les objets sur la même ligne</span></span></code></pre></div>
<p><img src="images//clust_ward.png" class="align-center" />
<img src="images//clust_wardfinal.png" class="align-center" /></p>
<p>Les groupements générés par la méthode de Ward ont tendance à être plus
sphériques et à contenir des quantités plus similaires d’objets.</p>
<p>Quelle méthode choisir?</p>
<p>Le choix de la bonne mesure d’association et de la bonne méthode de
groupement dépend de l’objectif. Qu’est-ce qu’il est plus intéressant de
démontrer : des gradients? des contrastes? Il est également important de
tenir en compte les propriétés de la méthode utilisée dans
l’interprétation des résultats. Si plus d’une méthode semble adéquate
pour répondre à une question biologique, comparer les dendrogrammes
serait une bonne option. Encore une fois, le groupement n’est pas une
analyse statistique, mais il est possible de tester les résultats et
d’identifier des partitions ayant un sens biologique. Il est également
possible de déterminer le nombre de groupes optimal et de performer des
tests statistiques sur les résultats. Les méthodes de groupement peuvent
aussi être combinées à une ordination pour distinguer des groupes de
sites. Ces avenues ne seront pas explorées dans cet atelier. Pour aller
plus loin, consulter Borcard et al. 2011.</p>

</div>



<hr>
<center> 
  <div class="footer">
      All the content of the workshop series is under a <a href="https://creativecommons.org/licenses/by-nc/2.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="quantifier-la-dissimilarité-des-données.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="le-significat-de-lordination-sans-contrainte.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
